require("../../common/manifest.js");
require("../../common/vendor.js");
global.webpackJsonp([40],{287:function(t,s,o){"use strict";var e=i(o(1)),a=i(o(288));function i(t){return t&&t.__esModule?t:{default:t}}Page((0,e.default)(a.default))},288:function(t,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var e=o(290),a=o.n(e),i=o(291);var n=function(t){o(289)},c=o(0)(a.a,i.a,n,null,null);s.default=c.exports},289:function(t,s){},290:function(t,s,o){"use strict";(function(t){Object.defineProperty(s,"__esModule",{value:!0}),s.default={data:function(){return{currentShopName:"",showMaskCoupons:!1,showCoupons:!1,cartNull:!1,payShow:!1,checkedGoodsNum:5,checkedGoodsmoney:"986.5",moneyUnit:"",moneyAngle:"",checkedAll:!1,shopCouponsData:[{money:"50",meetMoney:"500",startTime:"2018.11.1",endTime:"2018.11.1",get:!1},{money:"50",meetMoney:"500",startTime:"2018.11.1",endTime:"2018.11.1",get:!1},{money:"50",meetMoney:"500",startTime:"2018.11.1",endTime:"2018.11.1",get:!1}],goodsInfoData:[{shopName:"阿里康达药房",shopImg:"../../static/shopImg.png",shopId:1,checked:0,list:[{goodsId:11,name:"Swisse奶蓟草护肝片澳洲进口保健品护肝解毒片....",imgUrl:"../../static/tuijian.png",price:"263.8",num:1,type:"180粒/瓶",checked:0},{goodsId:12,name:"Swisse奶蓟草护肝片澳洲进口保健品护肝解毒片....",imgUrl:"../../static/tuijian.png",price:"263.8",num:1,type:"180粒/瓶",checked:0}]},{shopName:"啊康达药房",shopImg:"../../static/shopImg.png",shopId:2,checked:0,list:[{goodsId:21,name:"Swisse奶蓟草护肝片澳洲进口保健品护肝解毒片....",imgUrl:"../../static/tuijian.png",price:"263.8",num:1,type:"180粒/瓶",checked:0},{goodsId:22,name:"Swisse奶蓟草护肝片澳洲进口保健品护肝解毒片....",imgUrl:"../../static/tuijian.png",price:"263.8",num:1,type:"180粒/瓶",checked:0}]}],loseEfficacyData:{loseEfficacyGoodsNum:1,list:[{name:"Swisse奶蓟草护肝片澳洲进口保健品护肝解毒片....",imgUrl:"../../static/tuijian.png",loseEfficacyTime:"2018.09.28"},{name:"Swisse奶蓟草护肝片澳洲进口保健品护肝解毒片....",imgUrl:"../../static/tuijian.png",loseEfficacyTime:"2018.09.28"}]},checkedData:[],showMaskCart:!1,showStateCart:!1}},onLoad:function(){this.getcheckedGoods(),console.log(this.moneyUnit,this.moneyAngle);var t=this.goodsInfoData.length;console.log(t),this.cartNull=0===t;for(var s=void 0,o=0;o<t;o++)1===this.goodsInfoData[o].checked&&(s=!1);this.checkedAll=!1!==s},onUnload:function(){},methods:{getcheckedGoods:function(){this.checkedGoodsmoney=0;for(var t=this.goodsInfoData.length,s=0;s<t;s++)if(0===this.goodsInfoData[s].checked)for(var o=0;o<this.goodsInfoData[s].list.length;o++)this.checkedGoodsmoney+=this.goodsInfoData[s].list[o].num*this.goodsInfoData[s].list[o].price;else for(var e=0;e<this.goodsInfoData[s].list.length;e++)0===this.goodsInfoData[s].list[e].checked&&(this.checkedGoodsmoney+=this.goodsInfoData[s].list[e].num*this.goodsInfoData[s].list[e].price);this.checkedGoodsmoney=this.checkedGoodsmoney.toFixed(2),this.checkedGoodsmoney=this.checkedGoodsmoney.toString();var a=this.checkedGoodsmoney.split(".");this.moneyUnit=a[0],this.moneyAngle=a[1],console.log(this.checkedGoodsmoney)},deteleModalTap:function(s){t.showModal({content:"确认清空失效商品吗？",confirmText:"删除",cancelText:"取消",confirmColor:"#4C94ED",cancelColor:"#4C94ED",success:function(t){t.confirm?console.log("点击删除"):t.cancel&&console.log("点击取消")}})},edit:function(){console.log("编辑"),this.payShow=!1},goodsNumAdd:function(t,s){console.log("数量的增加",t,s),s.num++,console.log("数量的增加",s.num),this.getcheckedGoods()},goodsNumReduce:function(t,s){console.log("数量的减少",t,s),s.num>1?s.num--:s.num,console.log("数量的减少",s.num),this.getcheckedGoods()},getCoupons:function(t){console.log("领取优惠卷");t.shopId;this.currentShopName=t.shopName,this.showMaskCoupons=!0,this.showCoupons=!0},getShopStatus:function(t){console.log("选中整个店铺的商品"),console.log(t);for(var s=t.shopId,o=this.goodsInfoData.length,e=0;e<o;e++)if(s===this.goodsInfoData[e].shopId)if(0===this.goodsInfoData[e].checked){this.goodsInfoData[e].checked=1;for(var a=0;a<this.goodsInfoData[e].list.length;a++)this.goodsInfoData[e].list[a].checked=1}else{this.goodsInfoData[e].checked=0;for(var i=0;i<this.goodsInfoData[e].list.length;i++)this.goodsInfoData[e].list[i].checked=0}for(var n=void 0,c=0;c<o;c++)1===this.goodsInfoData[c].checked&&(n=!1);this.checkedAll=!1!==n,this.getcheckedGoods()},getGoodsStatus:function(t,s){console.log("选中某个商品",t,s);for(var o=t.shopId,e=s.goodsId,a=this.goodsInfoData.length,i=void 0,n=0;n<a;n++)if(o===this.goodsInfoData[n].shopId){i=n;for(var c=0;c<this.goodsInfoData[n].list.length;c++)e===this.goodsInfoData[n].list[c].goodsId&&(0===this.goodsInfoData[n].list[c].checked?this.goodsInfoData[n].list[c].checked=1:this.goodsInfoData[n].list[c].checked=0)}for(var l=this.goodsInfoData[i].list.length,d=this.goodsInfoData[i].list,h=void 0,g=0;g<l;g++)1===d[g].checked&&(h=!1);if(!1===h)this.goodsInfoData[i].checked=1,this.checkedAll=!1;else{this.goodsInfoData[i].checked=0;for(var r=void 0,m=0;m<a;m++)1===this.goodsInfoData[m].checked&&(r=!1);this.checkedAll=!1!==r}this.getcheckedGoods()},getPay:function(){t.navigateTo({url:"/pages/healthyMall/settleAccount"})},deleteGoods:function(){console.log("立即删除"),this.showMaskCart=!0,this.showStateCart=!0},confirmDetele:function(){this.payShow=!0},getCheckedAll:function(){console.log("全选"),this.checkedGoodsmoney=0,!1===this.checkedAll?this.checkedAll=!0:this.checkedAll=!1;for(var t=this.goodsInfoData.length,s=0;s<t;s++){!1===this.checkedAll?this.goodsInfoData[s].checked=1:this.goodsInfoData[s].checked=0;for(var o=0;o<this.goodsInfoData[s].list.length;o++)!1===this.checkedAll?this.goodsInfoData[s].list[o].checked=1:(this.goodsInfoData[s].list[o].checked=0,this.checkedGoodsmoney+=this.goodsInfoData[s].list[o].num*this.goodsInfoData[s].list[o].price)}},hide:function(){this.showMaskCart=!1,this.showStateCart=!1},hideMaskCoupons:function(){this.showMaskCoupons=!1,this.showCoupons=!1},getShopCoupons:function(t){console.log("点击优惠券",t.get),!1===t.get&&(t.get=!0),console.log("点击优惠券",this.shopCouponsData)}}}}).call(s,o(2).default)},291:function(t,s,o){"use strict";var e={render:function(){var t=this,s=t.$createElement,o=t._self._c||s;return t.cartNull?o("view",{staticClass:"index cartNull"},[o("image",{attrs:{src:"../../static/cartNull.png",mode:""}}),o("text",[t._v("您还没有商品加入购物车哦!")])]):o("view",{staticClass:"index"},[o("view",{staticClass:"goodsList"},t._l(t.goodsInfoData,function(s,e){return o("view",{key:e,staticClass:"goodsListItem"},[o("view",{staticClass:"goodsListItemHeader"},[o("view",{staticClass:"goodsListItemHeaderLeft"},[o("label",{staticClass:"radio"},[o("radio",{attrs:{color:"#87BBF8",value:s.shopId,checked:0===s.checked,eventid:"iYF-0-"+e},on:{tap:function(o){t.getShopStatus(s)}}})],1),o("image",{attrs:{src:s.shopImg,mode:""}}),o("text",[t._v(t._s(s.shopName))])],1),o("text",{staticClass:"coupons",attrs:{eventid:"QUn-1-"+e},on:{tap:function(o){t.getCoupons(s)}}},[t._v("领劵")])]),t._l(s.list,function(a,i){return o("view",{key:i,staticClass:"goodsInfo"},[o("label",{staticClass:"radio"},[o("radio",{attrs:{color:"#87BBF8",value:a.goodsId,checked:0===a.checked,eventid:"YaO-2-"+e+"-"+i},on:{tap:function(o){t.getGoodsStatus(s,a)}}})],1),o("image",{attrs:{src:a.imgUrl,mode:""}}),o("view",{staticClass:"goodsInfoRight"},[o("text",{staticClass:"goodsName"},[t._v(t._s(a.name))]),o("text",{staticClass:"goodsType"},[t._v("类型: "+t._s(a.type))]),o("view",{staticClass:"goodsInfoBottom"},[o("text",{staticClass:"goodsInfoBottomPrice"},[t._v("￥"+t._s(a.price))])])]),o("view",{staticClass:"goodsNum"},[o("image",{staticClass:"goodsNumAdd",attrs:{src:"../../static/cartTop.png",mode:"",eventid:"iJW-3-"+e+"-"+i},on:{tap:function(o){t.goodsNumAdd(s,a)}}}),o("text",{staticClass:"goodsNumText"},[t._v(t._s(a.num))]),o("image",{staticClass:"goodsNumReduce",attrs:{src:"../../static/cartDown.png",mode:"",eventid:"C62-4-"+e+"-"+i},on:{tap:function(o){t.goodsNumReduce(s,a)}}})])],1)})],2)})),o("view",{staticClass:"loseEfficacyGoods"},[o("view",{staticClass:"loseEfficacyTitle"},[o("text",{staticClass:"title"},[t._v("失效宝贝"+t._s(t.loseEfficacyData.loseEfficacyGoodsNum)+"件")]),o("text",{staticClass:"deteleBtn",attrs:{eventid:"y65-5"},on:{tap:t.deteleModalTap}},[t._v("删除失效商品！")])]),t._l(t.loseEfficacyData.list,function(s,e){return o("view",{key:e,staticClass:"goodsInfo"},[o("image",{attrs:{src:s.imgUrl,mode:""}}),o("view",{staticClass:"goodsInfoRight"},[o("text",{staticClass:"goodsName"},[t._v(t._s(s.name))]),o("text",{staticClass:"loseEfficacyInfo"},[t._v("商品已不能购买，请重新添加 ")]),o("view",{staticClass:"goodsInfoBottom"},[o("text",{staticClass:"loseEfficacyTime"},[t._v("失效日期: "+t._s(s.loseEfficacyTime))])])])])})],2),o("view",{staticClass:"operation"},[t.payShow?o("view",{staticClass:"operationPay"},[o("view",{staticClass:"operationPayLeft"},[o("label",{staticClass:"radio"},[o("radio",{attrs:{color:"#87BBF8",value:"checkedAll",checked:t.checkedAll,eventid:"lT9-6"},on:{tap:t.getCheckedAll}}),t._v("全选\n            ")],1),o("view",{staticClass:"goodsDetails"},[o("text",{staticClass:"goodsDetailsTop"},[t._v("一共"+t._s(t.checkedGoodsNum)+"件商品")]),o("view",{staticClass:"goodsDetailsBottom"},[o("text",{staticClass:"moneyTitle"},[t._v("总金额")]),o("text",{staticClass:"moneySmall"},[t._v("￥")]),o("text",{staticClass:"moneyBig"},[t._v(t._s(t.moneyUnit)+".")]),o("text",{staticClass:"moneySmall"},[t._v(t._s(t.moneyAngle))])])])],1),o("view",{},[o("text",{staticClass:"editBtn",attrs:{eventid:"n6k-7"},on:{tap:t.edit}},[t._v("编辑")]),o("text",{staticClass:"payBtn",attrs:{eventid:"mn0-8"},on:{tap:t.getPay}},[t._v("马上支付")])])]):o("view",{staticClass:"operationDetele"},[o("view",{staticClass:"operationPayLeft"},[o("label",{staticClass:"radio"},[o("radio",{attrs:{color:"#87BBF8",value:"checkedAll",checked:t.checkedAll,eventid:"yNi-9"},on:{tap:t.getCheckedAll}}),t._v("全选 \n       \t  ")],1)],1),o("view",{staticClass:"operationDeteleRight"},[o("view",{staticClass:"goodsDetails"},[o("text",{staticClass:"goodsDetailsTop"},[t._v("一共"+t._s(t.checkedGoodsNum)+"件商品")]),o("view",{staticClass:"goodsDetailsBottom"},[o("text",{staticClass:"moneyTitle"},[t._v("总金额")]),o("text",{staticClass:"moneySmall"},[t._v("￥")]),o("text",{staticClass:"moneyBig"},[t._v(t._s(t.moneyUnit))]),o("text",{staticClass:"moneySmall"},[t._v("."+t._s(t.moneyAngle))])])]),o("text",{staticClass:"payBtn",attrs:{eventid:"bhZ-10"},on:{tap:t.deleteGoods}},[t._v("立即删除")])])])]),o("view",{directives:[{name:"show",rawName:"v-show",value:t.showMaskCart,expression:"showMaskCart"}],staticClass:"mask",attrs:{eventid:"ge7-11"},on:{click:t.hide}}),o("view",{directives:[{name:"show",rawName:"v-show",value:t.showStateCart,expression:"showStateCart"}],staticClass:"popup popup-middle"},[o("view",{staticClass:"popupView"},[o("image",{attrs:{src:"../../static/deleteImg.png",mode:""}}),o("image",{attrs:{src:"../../static/detelepop.png",mode:"",eventid:"MK2-12"},on:{tap:t.confirmDetele}})])]),o("view",{directives:[{name:"show",rawName:"v-show",value:t.showMaskCoupons,expression:"showMaskCoupons"}],staticClass:"mask",attrs:{eventid:"QZr-13"},on:{tap:t.hideMaskCoupons}}),o("view",{directives:[{name:"show",rawName:"v-show",value:t.showCoupons,expression:"showCoupons"}],staticClass:"popup popup-bottom"},[o("text",{staticClass:"popupShopName"},[t._v(t._s(t.currentShopName))]),o("view",{staticClass:"shopCouponsList"},t._l(t.shopCouponsData,function(s,e){return o("view",{key:e,staticClass:"shopCouponsListItem"},[o("view",{staticClass:"shopCouponsListItemLeft"},[o("view",{staticClass:"money"},[o("text",{staticClass:"couponsMoney"},[t._v(t._s(s.money))]),o("text",{staticClass:"couponsMoneyIcon"},[t._v("元")])]),o("text",{staticClass:"meetMoney"},[t._v("订单满"+t._s(s.meetMoney)+"元使用")]),o("text",{staticClass:"couponsTime"},[t._v("使用期限"+t._s(s.startTime)+"-"+t._s(s.endTime))])]),o("text",{class:!1===s.get?"active shopCouponsListItemRight":"shopCouponsListItemRight",attrs:{eventid:"ipn-14-"+e},on:{tap:function(o){t.getShopCoupons(s)}}},[t._v(t._s(!1===s.get?"领取":"已领取"))])])})),o("text",{directives:[{name:"show",rawName:"v-show",value:t.showMaskCoupons,expression:"showMaskCoupons"}],staticClass:"hideBtn",attrs:{eventid:"ieJ-15"},on:{tap:t.hideMaskCoupons}},[t._v("关闭")])])])},staticRenderFns:[]};s.a=e}},[287]);